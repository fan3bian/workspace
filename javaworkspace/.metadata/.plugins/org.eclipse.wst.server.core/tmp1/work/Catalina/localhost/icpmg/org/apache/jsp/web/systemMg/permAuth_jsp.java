/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/7.0.57
 * Generated at: 2016-11-09 03:06:14 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.web.systemMg;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import java.util.*;

public final class permAuth_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private javax.el.ExpressionFactory _el_expressionfactory;
  private org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public void _jspInit() {
    _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
    _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
        throws java.io.IOException, javax.servlet.ServletException {

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=utf-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\r\n");
      out.write("\r\n");
      out.write("<body>\r\n");
      out.write("\t<style type=\"text/css\">\r\n");
      out.write(".FieldInput2 {\r\n");
      out.write("\twidth: 77%;\r\n");
      out.write("\theight: 25px;\r\n");
      out.write("\tbackground-color: #FFFFFF;\r\n");
      out.write("\tfont: normal 12px tahoma, arial, helvetica, sans-serif;\r\n");
      out.write("\ttext-align: left;\r\n");
      out.write("\tword-wrap: break-word;\r\n");
      out.write("\tpadding-top: 0px !important;\r\n");
      out.write("\tpadding-bottom: 0px !important;\r\n");
      out.write("\tborder: #BCD2EE 1px solid !important;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".FieldLabel2 {\r\n");
      out.write("\twidth: 23%;\r\n");
      out.write("\theight: 25px;\r\n");
      out.write("\tbackground-color: #F0F8FF;\r\n");
      out.write("\tfont: normal 12px tahoma, arial, helvetica, sans-serif;\r\n");
      out.write("\ttext-align: left;\r\n");
      out.write("\tword-wrap: break-word;\r\n");
      out.write("\tpadding-top: 0px !important;\r\n");
      out.write("\tpadding-bottom: 0px !important;\r\n");
      out.write("\tpadding-right: 10px !important;\r\n");
      out.write("\tborder: #BCD2EE 1px solid !important;\r\n");
      out.write("}\r\n");
      out.write("</style>\r\n");
      out.write("\t<script type=\"text/javascript\">\r\n");
      out.write("\t\t$(document).ready(function() {\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t$(\"#details\").hide();\r\n");
      out.write("\t\t\tloadUUcFunction();\r\n");
      out.write("\t\t\tloadAppid();\r\n");
      out.write("\t\t\tloadDataGrid();\r\n");
      out.write("\t\t\t//loadOrgTree();\r\n");
      out.write("\t\t\t//loadOrgTree(roleid);\r\n");
      out.write("\t\t});\r\n");
      out.write("\t\tfunction loadAppid()\r\n");
      out.write("\t\t{\r\n");
      out.write("\t\t\t$('#appid').combobox({ \r\n");
      out.write("\t\t\t\tdata: [{\r\n");
      out.write("\t\t\t\t\tid: '1',\r\n");
      out.write("\t\t\t\t\tappname: '运维'\r\n");
      out.write("\t\t\t\t},{\r\n");
      out.write("\t\t\t\t\tid: '2',\r\n");
      out.write("\t\t\t\t\tappname: '门户'\r\n");
      out.write("\t\t\t\t}],   \r\n");
      out.write("\t\t\t    valueField:'id',    \r\n");
      out.write("\t\t\t    textField:'appname'  \r\n");
      out.write("\t\t\t});  \r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\tfunction loadUUcFunction()\r\n");
      out.write("\t\t{\r\n");
      out.write("\t\t\t$('#fnameuuc').combobox({    \r\n");
      out.write("\t\t\t    url:'");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/authMgr/getComboFunction.do?',    \r\n");
      out.write("\t\t\t    valueField:'fid',    \r\n");
      out.write("\t\t\t    textField:'fname',\r\n");
      out.write("\t\t\t    onSelect:function(param)\r\n");
      out.write("\t\t\t    {\r\n");
      out.write("\t\t\t\t    $(\"#fname\").val(param.fname);\r\n");
      out.write("\t\t\t\t\t$(\"#ename\").val(param.ename);\r\n");
      out.write("\t\t\t\t\t$(\"#fid\").val(param.fid);\r\n");
      out.write("\t\t\t\t\t$(\"#hname\").val(param.hname);\r\n");
      out.write("\t\t\t\t\t$(\"#fic\").val(param.fic);\r\n");
      out.write("\t\t\t    } \r\n");
      out.write("\t\t\t});  \r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\tfunction loadDataGrid() {\r\n");
      out.write("\t\t\t$('#dg')\r\n");
      out.write("\t\t\t\t\t.datagrid(\r\n");
      out.write("\t\t\t\t\t\t\t{\r\n");
      out.write("\t\t\t\t\t\t\t\turl : '");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/authMgr/getAllRole.do',\r\n");
      out.write("\t\t\t\t\t\t\t\tonSelect : function(rowIndex, rowData) {\r\n");
      out.write("\t\t\t\t\t\t\t\t\tloadOrgTree(rowData.roleid);\r\n");
      out.write("\t\t\t\t\t\t\t\t\tloadDataOrg(rowData.datalevel);\r\n");
      out.write("\t\t\t\t\t\t\t\t},\r\n");
      out.write("\t\t\t\t\t\t\t\tonLoadSuccess : function(data) {\r\n");
      out.write("\t\t\t\t\t\t\t\t\t//debugger;\r\n");
      out.write("\t\t\t\t\t\t\t\t\t$(this).datagrid('selectRow', 0);\r\n");
      out.write("\t\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\t});\r\n");
      out.write("\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\tfunction loadOrgTree(roleid) {\r\n");
      out.write("\t\t\t$(\"#details\").hide();\r\n");
      out.write("\t\t\t$(\"#roleid\").val(roleid);\r\n");
      out.write("\t\t\t$\r\n");
      out.write("\t\t\t\t\t.ajax({\r\n");
      out.write("\t\t\t\t\t\ttype : 'post',\r\n");
      out.write("\t\t\t\t\t\turl : '");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/authMgr/getCheckedFunction.do?roleid='\r\n");
      out.write("\t\t\t\t\t\t\t\t+ roleid,\r\n");
      out.write("\t\t\t\t\t\t//url : '");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/web/systemMg/tree_data1.json',\r\n");
      out.write("\t\t\t\t\t\tsuccess : function(data) {\r\n");
      out.write("\t\t\t\t\t\t\t//debugger;\r\n");
      out.write("\t\t\t\t\t\t\tvar myJson = eval('(' + data + ')');\r\n");
      out.write("\t\t\t\t\t\t\t// alert(data);\r\n");
      out.write("\t\t\t\t\t\t\t$(\"#tree\")\r\n");
      out.write("\t\t\t\t\t\t\t\t\t.tree(\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t{\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\tanimate : true,\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\tlines : true,\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\tcheckbox : false,\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\tdata : myJson,\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\tonSelect : function(node) {\r\n");
      out.write("\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t//根节点\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\tif (node.id == \"0\") {\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$(\"#details\").hide();\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$(\"#details\").show();\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetTableValue(node);\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t},\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\tonClick : function(node) {\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t$(this)\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.tree(\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnode.state === 'closed' ? 'expand'\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'collapse',\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnode.target);\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\tnode.state = node.state === 'closed' ? 'open'\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'closed';\r\n");
      out.write("\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t},\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\tonContextMenu : function(e,\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\tnode) {\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t//alert(node.target);\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t// 查找节点\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t$('#tree').tree('select',\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnode.target);\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t//alert(node.target);\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\tif (node.mlevel == 0) {\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\t// 显示快捷菜单\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\t$('#mr').menu('show', {\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tleft : e.pageX,\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttop : e.pageY\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (node.mlevel != 3) {\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\t// 显示快捷菜单\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\t$('#mf').menu('show', {\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tleft : e.pageX,\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttop : e.pageY\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n");
      out.write("\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\t// 显示快捷菜单\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\t$('#ms').menu('show', {\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tleft : e.pageX,\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttop : e.pageY\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n");
      out.write("\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t}\r\n");
      out.write("\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t});\r\n");
      out.write("\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t});\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\tfunction loadDataOrg(datalevel) {\r\n");
      out.write("\t\t\t$(\"input[name='datalevel']\").attr(\"checked\", false);\r\n");
      out.write("\t\t\t$(\"input[name='datalevel'][value=\" + datalevel + \"]\").attr(\r\n");
      out.write("\t\t\t\t\t\"checked\", true);\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\tfunction dataUndo() {\r\n");
      out.write("\t\t\t$(\"input[name='datalevel']\").attr(\"checked\", false);\r\n");
      out.write("\t\t}\r\n");
      out.write("\r\n");
      out.write("\t\tfunction setTableValue(node) {\r\n");
      out.write("\t\t\t//alert(node.mlevel+\"级菜单\");\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t$('#tablepanel').panel({\r\n");
      out.write("\t\t\t\ttitle : node.mlevel + \"级菜单\"\r\n");
      out.write("\t\t\t});\r\n");
      out.write("\t\t\t$(\"#fnameuuc\").combobox(\"disable\");\r\n");
      out.write("\t\t\t$(\"#fnameuuc\").combobox('setValue',node.fid);\r\n");
      out.write("\t\t\t$(\"#fname\").val(node.text);\r\n");
      out.write("\t\t\t$(\"#mid\").val(node.id);\r\n");
      out.write("\t\t\t$(\"#fid\").val(node.fid);\r\n");
      out.write("\t\t\t$(\"#ename\").val(node.text);\r\n");
      out.write("\t\t\t$(\"#lastfuncname\").val(\r\n");
      out.write("\t\t\t$('#tree').tree('getParent', node.target).text);\r\n");
      out.write("\t\t\t$(\"#parentid\").val($('#tree').tree('getParent', node.target).id);\r\n");
      out.write("\t\t\t$(\"#hname\").val(node.hname);\r\n");
      out.write("\t\t\t$(\"#fic\").val(node.fic);\r\n");
      out.write("\t\t\t$(\"#mno\").val(node.mno);\r\n");
      out.write("\t\t\t$(\"#mlevel\").val(node.mlevel);\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t\t$(\"#appid\").combobox(\"disable\"); \r\n");
      out.write("\t\t\t$(\"#appid\").combobox('setValue',node.appid);\r\n");
      out.write("\t\t\t$(\"#details\").show();\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\tfunction redo() {\r\n");
      out.write("\t\t\t//alert('dddd');\r\n");
      out.write("\t\t\t$(\"#fname\").val('');\r\n");
      out.write("\t\t\t$(\"#ename\").val('');\r\n");
      out.write("\t\t\t//$(\"#lastfuncname\").val($('#tree').tree('getParent',node.target).text);\r\n");
      out.write("\t\t\t$(\"#mno\").val('-1');\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\tfunction append()\r\n");
      out.write("\t\t{\r\n");
      out.write("\t\t\t$(\"#details\").show();\r\n");
      out.write("\t\t\tvar node = $('#tree').tree('getSelected');\r\n");
      out.write("\t\t\t$(\"#fnameuuc\").combobox(\"enable\");\r\n");
      out.write("\t\t\t$(\"#fnameuuc\").combobox('setValue','');\r\n");
      out.write("\t\t\tif((node.mlevel+1)==1)\r\n");
      out.write("\t\t\t{\r\n");
      out.write("\t\t\t\t$(\"#appid\").combobox(\"enable\");\r\n");
      out.write("\t\t\t\t$(\"#appid\").combobox('select',1);\r\n");
      out.write("\t\t\t}else\r\n");
      out.write("\t\t\t{\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t\t$(\"#appid\").combobox(\"disable\");\r\n");
      out.write("\t\t\t\t$(\"#appid\").combobox('setValue',node.appid);\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\t$('#tablepanel').panel({ title: (node.mlevel+1)+\"级菜单\"});\r\n");
      out.write("\t\t\t$(\"#fname\").val('');\r\n");
      out.write("\t\t\t$(\"#ename\").val('');\r\n");
      out.write("\t\t\t$(\"#mlevel\").val(node.mlevel+1);\r\n");
      out.write("\t\t\t$(\"#mid\").val('');\r\n");
      out.write("\t\t\t$(\"#fid\").val('');\r\n");
      out.write("\t\t\t$(\"#lastfuncname\").val(node.text);\r\n");
      out.write("\t\t\t$(\"#parentid\").val(node.id);\r\n");
      out.write("\t\t\t$(\"#hname\").val('');\r\n");
      out.write("\t\t\t$(\"#fic\").val('');\r\n");
      out.write("\t\t\t$(\"#mno\").val('-1');\r\n");
      out.write("\t\t\t$(\"#details\").show();\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\tfunction save()\r\n");
      out.write("\t\t{\r\n");
      out.write("\t\t\tvar node = $('#tree').tree('getSelected');\r\n");
      out.write("\t\t\t//alert(node.text);\r\n");
      out.write("\t\t\t//alert(node.target);\r\n");
      out.write("\t\t\t//$.messager.progress(); \r\n");
      out.write("\t\t\t$('#tableform').form('submit',{\r\n");
      out.write("\t\t    url:urlrootpath+'/authMgr/addorupdateFuncAuth.do', \r\n");
      out.write("\t\t    onSubmit: function(){\r\n");
      out.write("\t\t    \tif($(\"#fnameuuc\").combobox('getValue')==null || $.trim($(\"#fnameuuc\").combobox('getValue'))==\"\")\r\n");
      out.write("\t\t    \t{\r\n");
      out.write("\t\t    \t\t$.messager.alert('消息',\"功能名称不能为空!\");  \r\n");
      out.write("\t\t    \t\treturn false;\r\n");
      out.write("\t\t    \t}\r\n");
      out.write("\t\t    \tif($(\"#fname\").attr(\"value\")==null || $.trim($(\"#fname\").attr(\"value\"))==\"\" )\r\n");
      out.write("\t\t    \t{\r\n");
      out.write("\t\t    \t\t$.messager.alert('消息',\"功能别名不能为空!\");  \r\n");
      out.write("\t\t    \t\treturn false;\r\n");
      out.write("\t\t    \t}\r\n");
      out.write("\t\t    \tif(isNaN($(\"#mno\").attr(\"value\")))\r\n");
      out.write("\t\t    \t{\r\n");
      out.write("\t\t    \t\t$.messager.alert('消息',\"序列值只能为数字!\");  \r\n");
      out.write("\t\t    \t\treturn false;\r\n");
      out.write("\t\t    \t}\r\n");
      out.write("\t\t    \t$(\"#ename\").val( $(\"#fname\").attr(\"value\"));\r\n");
      out.write("\t\t    \tdebugger;\r\n");
      out.write("\t\t    },\r\n");
      out.write("\t\t    success:function(retr){\r\n");
      out.write("\t\t    \t//$.messager.progress('close');\t// 如果表单是无效的则隐藏进度条\r\n");
      out.write("\t\t    \tvar _data =  JSON.parse(retr); \r\n");
      out.write("\t\t    \t//alert(\"success: \"+_data.success);\r\n");
      out.write("\t\t\t\tif(_data.success){\r\n");
      out.write("\t\t\t\t\tvar id = $(\"#mid\").attr(\"value\");\r\n");
      out.write("\t\t\t\t\tif(!id)\r\n");
      out.write("\t\t\t\t\t{\r\n");
      out.write("\t\t\t\t\t\t//如果id为null说明是插入得\r\n");
      out.write("\t\t\t\t\t\t$('#tree').tree('append', {\r\n");
      out.write("\t\t\t\t\t\t\tparent: (node?node.target:$('#tree').tree('getRoot')),\r\n");
      out.write("\t\t\t\t\t\t\tdata: [{\r\n");
      out.write("\t\t\t\t\t\t\t    id: _data.obj,\r\n");
      out.write("\t\t\t\t\t\t\t    text: $(\"#fname\").attr(\"value\"),\r\n");
      out.write("\t\t\t\t\t\t        children: [],\r\n");
      out.write("\t\t\t\t\t\t        state: \"closed\",\r\n");
      out.write("\t\t\t\t\t\t\t    hname:$(\"#hname\").attr(\"value\"),\r\n");
      out.write("\t\t\t\t\t\t\t    fid: $(\"#fid\").attr(\"value\"),\r\n");
      out.write("\t\t\t\t\t\t\t    appid:$(\"#appid\").combobox('getValue'),\r\n");
      out.write("\t\t\t\t\t\t\t    fic:$(\"#fic\").attr(\"value\"),\r\n");
      out.write("\t\t\t\t\t\t\t\tmno:$(\"#mno\").attr(\"value\"),\r\n");
      out.write("\t\t\t\t\t\t\t\tmlevel:node.mlevel+1\r\n");
      out.write("\t\t\t\t\t\t                }]\r\n");
      out.write("\t\t\t\t\t\t});\r\n");
      out.write("\t\t\t\t\t\t $('#tree').tree(node.state === 'closed' ? 'expand' : 'collapse', node.target);  \r\n");
      out.write("    \t\t\t\t\t node.state = node.state === 'closed' ? 'open' : 'closed';  \r\n");
      out.write("\t\t\t\t\t\t//$('#tree').tree('reload', node.target);\r\n");
      out.write("\t\t\t\t\t\t$('#tree').tree('select', $('#tree').tree('find', _data.obj).target);\r\n");
      out.write("\t\t\t\t\t}else\r\n");
      out.write("\t\t\t\t\t{\r\n");
      out.write("\t\t\t\t\t\t//反之为更新的\r\n");
      out.write("\t\t\t\t\t\t$('#tree').tree('update', {\r\n");
      out.write("\t\t\t\t\t\t\t\ttarget: node.target,\r\n");
      out.write("\t\t\t\t\t\t\t\ttext: $(\"#fname\").attr(\"value\"),\r\n");
      out.write("\t\t\t\t\t\t\t\thname:$(\"#hname\").attr(\"value\"),\r\n");
      out.write("\t\t\t\t\t\t\t\tfic:$(\"#fic\").attr(\"value\"),\r\n");
      out.write("\t\t\t\t\t\t\t\tmno:$(\"#mno\").attr(\"value\"),\r\n");
      out.write("\t\t\t\t\t\t\t});\r\n");
      out.write("\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t    \t}\r\n");
      out.write("\t\t    \t$.messager.alert('消息',_data.msg);  \r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t    }\r\n");
      out.write("\t\t});\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\tfunction removes()\r\n");
      out.write("\t\t{\r\n");
      out.write("\t\t\tvar node = $('#tree').tree('getSelected');\r\n");
      out.write("\t\t\t$.messager.confirm('确认','您确认想要删除记录吗？',function(r){    \r\n");
      out.write("\t\t\t    if (r){ \r\n");
      out.write("\t\t\t    \t$('#tableform').form('submit',{\r\n");
      out.write("\t\t   \t\t\t\t \turl:urlrootpath+'/authMgr/delFuncAuth.do',\r\n");
      out.write("\t\t   \t\t\t\t \t onSubmit: function(){\r\n");
      out.write("\t\t   \t\t\t\t \t \tdebugger;\r\n");
      out.write("\t\t   \t\t\t\t \t \t\tvar ids =\"\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\tids = node.id+\",\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\tvar children = $('#tree').tree('getChildren',node.target);\r\n");
      out.write("\t\t\t\t\t\t\t\t\tfor(var i = 0 ;i<children.length;i++)\r\n");
      out.write("\t\t\t\t\t\t\t\t\t{\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\tids= ids + children[i].id+\",\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t   \t\t\t\t \t \t$(\"#mid\").val(ids);\r\n");
      out.write("\t\t   \t\t\t\t \t },\r\n");
      out.write("\t\t      \t\t\t\tsuccess:function(retr){\r\n");
      out.write("\t\t\t      \t\t\t\tvar data =  JSON.parse(retr); \r\n");
      out.write("\t\t\t\t\t\t    \tif(data.success)\r\n");
      out.write("\t\t\t\t\t\t    \t{\r\n");
      out.write("\t\t\t\t\t\t    \t\tvar parent = $('#tree').tree('getParent',node.target);\r\n");
      out.write("\t\t\t\t\t\t    \t\r\n");
      out.write("\t\t\t\t\t\t    \t\t$('#tree').tree('remove', node.target);\r\n");
      out.write("\t\t\t\t\t\t    \t\t//remove 最后一个变为叶子节点，bug，占且无法修改。\r\n");
      out.write("\t\t\t\t\t\t    \t\t$('#tree').tree('select', parent.target);\r\n");
      out.write("\t\t\t\t\t\t    \t\tif(parent.id!=\"0\")\r\n");
      out.write("\t\t\t\t\t\t    \t\t{\r\n");
      out.write("\t\t\t\t\t\t    \t\t\tsetTableValue(parent);\r\n");
      out.write("\t\t\t\t\t\t    \t\t}\r\n");
      out.write("\t\t\t\t\t\t    \t}\r\n");
      out.write("\t\t\t\t\t\t    \t$.messager.alert('消息',data.msg);   \r\n");
      out.write("\t\t\t\t\t  \t\t  } \r\n");
      out.write("\t\t\t\t\t});\r\n");
      out.write("\t\t\t    \t//$.messager.alert('消息','确认删除');     \r\n");
      out.write("\t\t\t   \t }    \r\n");
      out.write("\t\t\t});  \t\t\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\tfunction dataSave()\r\n");
      out.write("\t\t{\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t    var role =  $(\"#dg\").datagrid('getSelected');\r\n");
      out.write("\t\t    var roleid = role.roleid;\r\n");
      out.write("\t\t\tvar value = $(\"input[name='datalevel']:checked\").val();\r\n");
      out.write("\t\t\t$.ajax({\r\n");
      out.write("\t\t\t\t\t\ttype : 'post',\r\n");
      out.write("\t\t\t\t\t\turl : '");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/authMgr/updateRoleDataAuth.do?roleid='\r\n");
      out.write("\t\t\t\t\t\t\t\t+ roleid+'&value='+value,\r\n");
      out.write("\t\t\t\t\t\t//url : '");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/web/systemMg/tree_data1.json',\r\n");
      out.write("\t\t\t\t\t\tsuccess : function(retr) {\r\n");
      out.write("\t\t\t\t\t\t\tvar _data =  JSON.parse(retr); \r\n");
      out.write("\t\t\t\t\t\t\tif(_data.success)\r\n");
      out.write("\t\t\t\t\t    \t{\r\n");
      out.write("\t\t\t\t\t    \t\tdebugger;\r\n");
      out.write("\t\t\t\t\t    \t\t//$('#dg').datagrid('updateRow',{index:$('#dg').datagrid('getRowIndex','数据行的id'),row:{name:'xxxxxx00000'}})\r\n");
      out.write("\t\t\t\t\t    \t\t$(\"#dg\").datagrid(('updateRow'),{\r\n");
      out.write("\t\t\t\t\t\t\t\t\tindex:$('#dg').datagrid('getRowIndex',role),\r\n");
      out.write("\t\t\t\t\t\t\t\t\trow: {\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\troleid: value\r\n");
      out.write("\t\t\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\t\t\t});\r\n");
      out.write("\t\t\t\t\t    \t\t\r\n");
      out.write("\t\t\t\t\t    \t}\r\n");
      out.write("\t\t\t\t\t    \t$.messager.alert('消息',_data.msg);   \r\n");
      out.write("\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t});\r\n");
      out.write("\t\t}\r\n");
      out.write("\t</script>\r\n");
      out.write("\t<div class=\"easyui-layout\" data-options=\"border:false\"\r\n");
      out.write("\t\tstyle=\"padding:10px 20px 10px 20px;margin:10px 20px 10px 20px; width:100%;height:93%\">\r\n");
      out.write("\t\t\t<div data-options=\"region:'west',split:true,border:false\" title=\"角色列表\"\r\n");
      out.write("\t\t\t\tstyle=\"width:25%;\">\r\n");
      out.write("\t\t\t\t<table id=\"dg\" title=\"\" style=\"width:100%;\"\r\n");
      out.write("\t\t\t\t\tdata-options=\"singleSelect:true,border:false,fitColumns:true,method:'post'\">\r\n");
      out.write("\t\t\t\t\t<thead>\r\n");
      out.write("\t\t\t\t\t\t<tr>\r\n");
      out.write("\t\t\t\t\t\t\t<th data-options=\"hidden:'true',field:'roleid'\"></th>\r\n");
      out.write("\t\t\t\t\t\t\t<th data-options=\"field:'rolename',width:30,align:'center'\">角色名称</th>\r\n");
      out.write("\t\t\t\t\t\t\t<th data-options=\"hidden:'true',field:'datalevel'\"></th>\r\n");
      out.write("\t\t\t\t\t\t\t<!-- <th data-options=\"field:'roledesc',width:70,align:'left'\">角色说明</th>  -->\r\n");
      out.write("\t\t\t\t\t\t</tr>\r\n");
      out.write("\t\t\t\t\t</thead>\r\n");
      out.write("\t\t\t\t</table>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t\t<div class=\"easyui-tabs\" style=\"width:75%;height:100%\"\r\n");
      out.write("\t\t\t\tdata-options=\"border:false,region:'center',title:'权限分配',iconCls:'icon-ok'\">\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t\t<div id=\"fucntion\" title=\"功能权限分配\"  class=\"easyui-layout\" data-options=\"border:false\"\r\n");
      out.write("\t\t\t\t\tstyle=\"padding:10px 20px 10px 20px;margin:10px 20px 10px 20px; width:100%;height:93%\">\r\n");
      out.write("\t\t\t\t\t<div data-options=\"region:'west',split:true,border:true\" title=\"\"\r\n");
      out.write("\t\t\t\t\t\tstyle=\"width:30%;\"\r\n");
      out.write("\t\t\t\t\t\tstyle=\"padding:5px 5px 5px 5px;margin:10px 5px 10px 40px; \">\r\n");
      out.write("\t\t\t\t\t\t<ul id=\"tree\" class=\"easyui-tree\"></ul>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<div id=\"details\" data-options=\"border:false,region:'center',title:'详细信息',iconCls:'icon-ok'\"\r\n");
      out.write("\t\t\t\t\t\tstyle=\"padding:5px 5px 5px 5px;margin:10px 5px 10px 40px;width:70%;\">\r\n");
      out.write("\t\t\t\t\t\t<a href=\"#\" onClick=\"javascript:save();\"\r\n");
      out.write("\t\t\t\t\t\t\tclass=\"easyui-linkbutton\" data-options=\"iconCls:'icon-save'\">保存</a>&nbsp;&nbsp;&nbsp;\r\n");
      out.write("\t\t\t\t\t\t<a href=\"#\" onClick=\"javascript:redo();\"\r\n");
      out.write("\t\t\t\t\t\t\tclass=\"easyui-linkbutton\" data-options=\"iconCls:'icon-redo'\">重置</a>\r\n");
      out.write("\t\t\t\t\t\t<div style=\"height:10px\"></div>\r\n");
      out.write("\t\t\t\t\t\t<div id=\"tablepanel\" class=\"easyui-panel\" title=\"菜单项\"\r\n");
      out.write("\t\t\t\t\t\t\t\tstyle=\"width:80%;\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<form id=\"tableform\" method=\"post\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<input id=\"roleid\" name=\"roleid\" type=\"hidden\" />\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<input id=\"mid\" name=\"mid\" type=\"hidden\" />\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<input id=\"fid\" name=\"fid\" type=\"hidden\" /> <input\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\tid=\"parentid\" name=\"parentid\" type=\"hidden\" />\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<input id=\"ename\" name=\"ename\" type=\"hidden\" value=\"1\" /> <input\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\tid=\"mlevel\" name=\"mlevel\" type=\"hidden\" />\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<table align=\"center\" name=\"\" style=\"width:80%\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"FieldLabel2\" style=\"border-top:!important;\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t功能名称：</td>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"FieldInput2\"><select class=\"easyui-combobox\" id=\"fnameuuc\" name=\"fnameuuc\" style=\"height:25px;width:50%;\"></select><font color=\"red\">*</font>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"FieldLabel2\" style=\"border-top:!important;\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t功能别名：</td>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"FieldInput2\"><input id=\"fname\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"height:25px;width:50%;\" name=\"fname\" class=\"easyui-validatebox\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\tdata-options=\"required:true\" /><font color=\"red\">*</font></td>\r\n");
      out.write("\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"FieldLabel2\">上一级菜单：</td>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"FieldInput2\"><input type=\"text\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"lastfuncname\" id=\"lastfuncname\" readonly=\"readonly\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"border:none !important;background:none !important;height:25px;width:100%;\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\tvalue=\"上一级菜单\" /></td>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"FieldLabel2\">所属系统：</td>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"FieldInput2\"><select style=\"height:25px;width:50%;\" class=\"easyui-combobox\" id=\"appid\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"appid\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t</select></td>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"FieldLabel2\">URL：</td>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"FieldInput2\"><input type=\"text\" id=\"hname\" readonly=\"readonly\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"border:none !important;background:none !important;height:25px;width:100%;\" name=\"hname\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t value=\"#\" /></td>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"FieldLabel2\">前置图标：</td>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"FieldInput2\"><input id=\"fic\" type=\"text\" readonly=\"readonly\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"border:none !important;background:none !important;height:25px;width:100%;\" name=\"fic\" value=\"images/normal.png\" /></td>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"FieldLabel2\">序列值：</td>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"FieldInput2\"><input id=\"mno\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"height:25px\" name=\"mno\" class=\"easyui-validatebox\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\tdata-options=\"required:true\" value=\"0\" /><font color=\"red\">*（只填数字）</font></td>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t</table>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t</form>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t\t<div title=\"数据权限分配\"\r\n");
      out.write("\t\t\t\t\tstyle=\"padding:5px 5px 5px 5px;margin:10px 5px 10px 40px; \">\r\n");
      out.write("\t\t\t\t\t<a href=\"#\" onClick=\"javascript:dataSave();\"\r\n");
      out.write("\t\t\t\t\t\tclass=\"easyui-linkbutton\" data-options=\"iconCls:'icon-save'\">保存</a>\r\n");
      out.write("\t\t\t\t\t<a href=\"#\" onClick=\"javascript:dataUndo();\"\r\n");
      out.write("\t\t\t\t\t\tclass=\"easyui-linkbutton\" data-options=\"iconCls:'icon-undo'\">重置</a>\r\n");
      out.write("\t\t\t\t\t<div style=\"height:10px\"></div>\r\n");
      out.write("\t\t\t\t\t<div>\r\n");
      out.write("\t\t\t\t\t\t<input type=\"radio\" name=\"datalevel\" value=\"1\"><span>资源</span><br />\r\n");
      out.write("\t\t\t\t\t\t<input type=\"radio\" name=\"datalevel\" value=\"10\"><span>资源池</span><br />\r\n");
      out.write("\t\t\t\t\t\t<input type=\"radio\" name=\"datalevel\" value=\"2\"><span>机房</span><br />\r\n");
      out.write("\t\t\t\t\t\t<input type=\"radio\" name=\"datalevel\" value=\"3\"><span>地市</span><br />\r\n");
      out.write("\t\t\t\t\t\t<input type=\"radio\" name=\"datalevel\" value=\"4\"><span>省</span><br />\r\n");
      out.write("\t\t\t\t\t\t<input type=\"radio\" name=\"datalevel\" value=\"5\"><span>节点</span><br />\r\n");
      out.write("\t\t\t\t\t\t<input type=\"radio\" name=\"datalevel\" value=\"6\"><span>子账户</span><br />\r\n");
      out.write("\t\t\t\t\t\t<input type=\"radio\" name=\"datalevel\" value=\"7\"><span>父账户</span><br />\r\n");
      out.write("\t\t\t\t\t\t<input type=\"radio\" name=\"datalevel\" value=\"8\"><span>角色</span><br />\r\n");
      out.write("\t\t\t\t\t\t<input type=\"radio\" name=\"datalevel\" value=\"9\"><span>全部</span>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t\t<div id=\"mr\" class=\"easyui-menu\" style=\"width:120px;\">\r\n");
      out.write("\t\t\t<div onclick=\"append()\" data-options=\"iconCls:'icon-add'\">追加</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t\t<div id=\"mf\" class=\"easyui-menu\" style=\"width:120px;\">\r\n");
      out.write("\t\t\t<div onclick=\"append()\" data-options=\"iconCls:'icon-add'\">追加</div>\r\n");
      out.write("\t\t\t<div onclick=\"removes()\" data-options=\"iconCls:'icon-remove'\">移除</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t\t<div id=\"ms\" class=\"easyui-menu\" style=\"width:120px;\">\r\n");
      out.write("\t\t\t<div onclick=\"removes()\" data-options=\"iconCls:'icon-remove'\">移除</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("</body>");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try {
            if (response.isCommitted()) {
              out.flush();
            } else {
              out.clearBuffer();
            }
          } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
